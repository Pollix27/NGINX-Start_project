<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gesti√≥n de Proyectos</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 30px;
            color: white;
            text-align: center;
        }

        .header h1 {
            font-size: 32px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .header p {
            opacity: 0.9;
            font-size: 14px;
        }

        .tabs {
            display: flex;
            gap: 0;
            background: #f8f9fa;
            padding: 0;
            border-bottom: 3px solid #e9ecef;
            overflow-x: auto;
        }

        .tab {
            padding: 18px 24px;
            cursor: pointer;
            background: transparent;
            border: none;
            font-size: 14px;
            font-weight: 500;
            color: #6c757d;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            margin-bottom: -3px;
            white-space: nowrap;
        }

        .tab:hover {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
        }

        .tab.active {
            background: white;
            color: #667eea;
            border-bottom-color: #667eea;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        .content-wrapper {
            display: grid;
            grid-template-columns: 400px 1fr;
            gap: 30px;
            padding: 30px;
            min-height: 600px;
        }

        @media (max-width: 1200px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }
        }

        .form-container {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            height: fit-content;
            position: sticky;
            top: 20px;
        }

        .form-container h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 20px;
            font-weight: 600;
        }

        .table-container {
            background: white;
            border-radius: 15px;
            border: 1px solid #e9ecef;
            overflow: hidden;
        }

        .table-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 25px;
            font-size: 18px;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .table-header-title {
            font-size: 18px;
            font-weight: 600;
        }

        .table-actions {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .search-box {
            padding: 8px 15px;
            border: 2px solid white;
            border-radius: 8px;
            font-size: 14px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            width: 250px;
            transition: all 0.3s ease;
        }

        .search-box::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .search-box:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.3);
        }

        .btn-refresh {
            padding: 8px 16px;
            background: white;
            color: #667eea;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .btn-refresh:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 255, 255, 0.3);
        }

        .form-group {
            margin-bottom: 18px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #495057;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 14px;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        button {
            padding: 12px 24px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            flex: 1;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #6c757d;
        }

        .btn-secondary:hover {
            background: #5a6268;
            box-shadow: 0 5px 15px rgba(108, 117, 125, 0.4);
        }

        .btn-cancel {
            background: #dc3545;
        }

        .btn-cancel:hover {
            background: #c82333;
            box-shadow: 0 5px 15px rgba(220, 53, 69, 0.4);
        }

        .table-wrapper {
            overflow-x: auto;
            max-height: 600px;
            overflow-y: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
        }

        th {
            background: #f8f9fa;
            color: #495057;
            font-weight: 600;
            position: sticky;
            top: 0;
            z-index: 10;
            text-transform: uppercase;
            font-size: 11px;
            letter-spacing: 0.5px;
        }

        tbody tr {
            transition: all 0.2s ease;
        }

        tbody tr:hover {
            background: #f8f9fa;
        }

        .alert {
            padding: 12px 15px;
            margin-bottom: 20px;
            border-radius: 10px;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .alert-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .btn-edit, .btn-delete {
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 12px;
            margin-right: 5px;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn-edit {
            background: #17a2b8;
            color: white;
        }

        .btn-edit:hover {
            background: #138496;
            transform: scale(1.05);
        }

        .btn-delete {
            background: #dc3545;
            color: white;
        }

        .btn-delete:hover {
            background: #c82333;
            transform: scale(1.05);
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #6c757d;
        }

        .empty-state svg {
            width: 80px;
            height: 80px;
            margin-bottom: 20px;
            opacity: 0.3;
        }

        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .badge-baja { background: #d4edda; color: #155724; }
        .badge-media { background: #fff3cd; color: #856404; }
        .badge-alta { background: #f8d7da; color: #721c24; }
        .badge-planificacion { background: #d1ecf1; color: #0c5460; }
        .badge-progreso { background: #cce5ff; color: #004085; }
        .badge-completado { background: #d4edda; color: #155724; }
        .badge-pausa { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>üöÄ Sistema de Gesti√≥n de Proyectos</h1>
        <p>Administra tus proyectos de manera profesional</p>
    </div>

    <div class="tabs">
        <button class="tab active" onclick="showTab('clientes')">üë• Clientes</button>
        <button class="tab" onclick="showTab('proyectos')">üìã Proyectos</button>
        <button class="tab" onclick="showTab('presupuestos')">üí∞ Presupuestos</button>
        <button class="tab" onclick="showTab('recursos')">‚öôÔ∏è Recursos</button>
        <button class="tab" onclick="showTab('sprints')">üèÉ Sprints</button>
        <button class="tab" onclick="showTab('requerimientos')">üìù Requerimientos</button>
        <button class="tab" onclick="showTab('colaboradores')">üë®‚Äçüíª Colaboradores</button>
    </div>

    <!-- CLIENTES -->
    <div id="clientes" class="section active">
        <div class="content-wrapper">
            <div class="form-container">
                <h2>üìù Datos del Cliente</h2>
                <div id="mensaje-cliente"></div>
                <form id="formCliente">
                    <input type="hidden" id="idClienteEdit">
                    <div class="form-group">
                        <label>Empresa</label>
                        <input type="text" id="empresaCliente" required>
                    </div>
                    <div class="form-group">
                        <label>RFC</label>
                        <input type="text" id="rfcCliente" required>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="emailCliente" required>
                    </div>
                    <div class="form-group">
                        <label>Tel√©fono</label>
                        <input type="text" id="telefonoCliente" required>
                    </div>
                    <div class="button-group">
                        <button type="submit" id="btnGuardarCliente">Guardar</button>
                        <button type="button" class="btn-cancel" onclick="cancelarEdicion('Cliente')" style="display:none;" id="btnCancelarCliente">Cancelar</button>
                    </div>
                </form>
            </div>

            <div class="table-container">
                <div class="table-header">
                    <span class="table-header-title">Lista de Clientes</span>
                    <div class="table-actions">
                        <input type="text" class="search-box" placeholder="üîç Buscar cliente..." onkeyup="buscarEnTabla(this, 'tablaClientes')">
                        <button class="btn-refresh" onclick="cargarClientes()">üîÑ Actualizar</button>
                    </div>
                </div>
                <div class="table-wrapper">
                    <table id="tablaClientes">
                        <thead>
                        <tr>
                            <th>ID</th>
                            <th>Empresa</th>
                            <th>RFC</th>
                            <th>Email</th>
                            <th>Tel√©fono</th>
                            <th>Acciones</th>
                        </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- PROYECTOS -->
    <div id="proyectos" class="section">
        <div class="content-wrapper">
            <div class="form-container">
                <h2>üìù Datos del Proyecto</h2>
                <div id="mensaje-proyecto"></div>
                <form id="formProyecto">
                    <input type="hidden" id="idProyectoEdit">
                    <div class="form-group">
                        <label>Cliente</label>
                        <select id="clienteProyecto" required></select>
                    </div>
                    <div class="form-group">
                        <label>Nombre del Proyecto</label>
                        <input type="text" id="nombreProyecto" required>
                    </div>
                    <div class="form-group">
                        <label>Descripci√≥n</label>
                        <textarea id="descripcionProyecto" rows="2"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Complejidad</label>
                        <select id="complejidadProyecto">
                            <option value="Baja">Baja</option>
                            <option value="Media">Media</option>
                            <option value="Alta">Alta</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Fecha Inicio</label>
                        <input type="date" id="fechaInicioProyecto">
                    </div>
                    <div class="form-group">
                        <label>Fecha Fin</label>
                        <input type="date" id="fechaFinProyecto">
                    </div>
                    <div class="form-group">
                        <label>Estado</label>
                        <select id="estadoProyecto">
                            <option value="Planificaci√≥n">Planificaci√≥n</option>
                            <option value="En Progreso">En Progreso</option>
                            <option value="En Pausa">En Pausa</option>
                            <option value="Completado">Completado</option>
                        </select>
                    </div>
                    <div class="button-group">
                        <button type="submit" id="btnGuardarProyecto">Guardar</button>
                        <button type="button" class="btn-cancel" onclick="cancelarEdicion('Proyecto')" style="display:none;" id="btnCancelarProyecto">Cancelar</button>
                    </div>
                </form>
            </div>

            <div class="table-container">
                <div class="table-header">
                    <span class="table-header-title">Lista de Proyectos</span>
                    <div class="table-actions">
                        <input type="text" class="search-box" placeholder="üîç Buscar proyecto..." onkeyup="buscarEnTabla(this, 'tablaProyectos')">
                        <button class="btn-refresh" onclick="cargarProyectos()">üîÑ Actualizar</button>
                    </div>
                </div>
                <div class="table-wrapper">
                    <table id="tablaProyectos">
                        <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nombre</th>
                            <th>Cliente</th>
                            <th>Complejidad</th>
                            <th>Estado</th>
                            <th>Fecha Inicio</th>
                            <th>Acciones</th>
                        </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- PRESUPUESTOS -->
    <div id="presupuestos" class="section">
        <div class="content-wrapper">
            <div class="form-container">
                <h2>üìù Datos del Presupuesto</h2>
                <div id="mensaje-presupuesto"></div>
                <form id="formPresupuesto">
                    <input type="hidden" id="idPresupuestoEdit">
                    <div class="form-group">
                        <label>Proyecto</label>
                        <select id="proyectoPresupuesto" required></select>
                    </div>
                    <div class="form-group">
                        <label>Total Presupuesto</label>
                        <input type="number" id="totalPresupuesto" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label>Fecha Elaboraci√≥n</label>
                        <input type="date" id="fechaElaboracion" required>
                    </div>
                    <div class="form-group">
                        <label>Estado</label>
                        <select id="estadoPresupuesto">
                            <option value="Borrador">Borrador</option>
                            <option value="Pendiente">Pendiente</option>
                            <option value="Aprobado">Aprobado</option>
                            <option value="Rechazado">Rechazado</option>
                        </select>
                    </div>
                    <div class="button-group">
                        <button type="submit">Guardar</button>
                        <button type="button" class="btn-cancel" onclick="cancelarEdicion('Presupuesto')" style="display:none;" id="btnCancelarPresupuesto">Cancelar</button>
                    </div>
                </form>
            </div>

            <div class="table-container">
                <div class="table-header">
                    <span class="table-header-title">Lista de Presupuestos</span>
                    <div class="table-actions">
                        <input type="text" class="search-box" placeholder="üîç Buscar presupuesto..." onkeyup="buscarEnTabla(this, 'tablaPresupuestos')">
                        <button class="btn-refresh" onclick="cargarPresupuestos()">üîÑ Actualizar</button>
                    </div>
                </div>
                <div class="table-wrapper">
                    <table id="tablaPresupuestos">
                        <thead>
                        <tr>
                            <th>ID</th>
                            <th>Proyecto</th>
                            <th>Total</th>
                            <th>Fecha</th>
                            <th>Estado</th>
                            <th>Acciones</th>
                        </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- RECURSOS -->
    <div id="recursos" class="section">
        <div class="content-wrapper">
            <div class="form-container">
                <h2>üìù Datos del Recurso</h2>
                <div id="mensaje-recurso"></div>
                <form id="formRecurso">
                    <input type="hidden" id="idRecursoEdit">
                    <div class="form-group">
                        <label>Proyecto</label>
                        <select id="proyectoRecurso" required></select>
                    </div>
                    <div class="form-group">
                        <label>Cantidad de Colaboradores</label>
                        <input type="number" id="cantidadColaboradores" required>
                    </div>
                    <div class="form-group">
                        <label>Horas Estimadas</label>
                        <input type="number" id="horasEstimadas" required>
                    </div>
                    <div class="form-group">
                        <label>Horas Adicionales</label>
                        <input type="number" id="horasAdicionales" value="0">
                    </div>
                    <div class="form-group">
                        <label>Tarifa por Hora ($)</label>
                        <input type="number" id="tarifaHora" step="0.01" required>
                    </div>
                    <div class="button-group">
                        <button type="submit">Guardar</button>
                        <button type="button" class="btn-cancel" onclick="cancelarEdicion('Recurso')" style="display:none;" id="btnCancelarRecurso">Cancelar</button>
                    </div>
                </form>
            </div>

            <div class="table-container">
                <div class="table-header">
                    <span class="table-header-title">Lista de Recursos</span>
                    <div class="table-actions">
                        <input type="text" class="search-box" placeholder="üîç Buscar recurso..." onkeyup="buscarEnTabla(this, 'tablaRecursos')">
                        <button class="btn-refresh" onclick="cargarRecursos()">üîÑ Actualizar</button>
                    </div>
                </div>
                <div class="table-wrapper">
                    <table id="tablaRecursos">
                        <thead>
                        <tr>
                            <th>ID</th>
                            <th>Proyecto</th>
                            <th>Colaboradores</th>
                            <th>Horas Est.</th>
                            <th>Horas Adic.</th>
                            <th>Tarifa/Hora</th>
                            <th>Costo Total</th>
                            <th>Acciones</th>
                        </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- SPRINTS -->
    <div id="sprints" class="section">
        <div class="content-wrapper">
            <div class="form-container">
                <h2>üìù Datos del Sprint</h2>
                <div id="mensaje-sprint"></div>
                <form id="formSprint">
                    <input type="hidden" id="idSprintEdit">
                    <div class="form-group">
                        <label>Proyecto</label>
                        <select id="proyectoSprint" required></select>
                    </div>
                    <div class="form-group">
                        <label>Nombre del Sprint</label>
                        <input type="text" id="nombreSprint" required>
                    </div>
                    <div class="form-group">
                        <label>Fecha Inicio</label>
                        <input type="date" id="fechaInicioSprint" required>
                    </div>
                    <div class="form-group">
                        <label>Fecha Fin</label>
                        <input type="date" id="fechaFinSprint" required>
                    </div>
                    <div class="form-group">
                        <label>Estado</label>
                        <select id="estadoSprint">
                            <option value="Planificaci√≥n">Planificaci√≥n</option>
                            <option value="En Progreso">En Progreso</option>
                            <option value="Completado">Completado</option>
                        </select>
                    </div>
                    <div class="button-group">
                        <button type="submit">Guardar</button>
                        <button type="button" class="btn-cancel" onclick="cancelarEdicion('Sprint')" style="display:none;" id="btnCancelarSprint">Cancelar</button>
                    </div>
                </form>
            </div>

            <div class="table-container">
                <div class="table-header">
                    <span class="table-header-title">Lista de Sprints</span>
                    <div class="table-actions">
                        <input type="text" class="search-box" placeholder="üîç Buscar sprint..." onkeyup="buscarEnTabla(this, 'tablaSprints')">
                        <button class="btn-refresh" onclick="cargarSprints()">üîÑ Actualizar</button>
                    </div>
                </div>
                <div class="table-wrapper">
                    <table id="tablaSprints">
                        <thead>
                        <tr>
                            <th>ID</th>
                            <th>Proyecto</th>
                            <th>Nombre</th>
                            <th>Fecha Inicio</th>
                            <th>Fecha Fin</th>
                            <th>Estado</th>
                            <th>Acciones</th>
                        </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- REQUERIMIENTOS -->
    <div id="requerimientos" class="section">
        <div class="content-wrapper">
            <div class="form-container">
                <h2>üìù Datos del Requerimiento</h2>
                <div id="mensaje-requerimiento"></div>
                <form id="formRequerimiento">
                    <input type="hidden" id="idRequerimientoEdit">
                    <div class="form-group">
                        <label>Proyecto</label>
                        <select id="proyectoRequerimiento" required></select>
                    </div>
                    <div class="form-group">
                        <label>Sprint (opcional)</label>
                        <select id="sprintRequerimiento">
                            <option value="">Sin asignar</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Descripci√≥n</label>
                        <textarea id="descripcionRequerimiento" rows="2" required></textarea>
                    </div>
                    <div class="form-group">
                        <label>Tipo</label>
                        <select id="tipoRequerimiento">
                            <option value="An√°lisis">An√°lisis</option>
                            <option value="Dise√±o">Dise√±o</option>
                            <option value="Desarrollo">Desarrollo</option>
                            <option value="Testing">Testing</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Prioridad</label>
                        <select id="prioridadRequerimiento">
                            <option value="Baja">Baja</option>
                            <option value="Media">Media</option>
                            <option value="Alta">Alta</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Horas Estimadas</label>
                        <input type="number" id="horasEstimadasReq" required>
                    </div>
                    <div class="button-group">
                        <button type="submit">Guardar</button>
                        <button type="button" class="btn-cancel" onclick="cancelarEdicion('Requerimiento')" style="display:none;" id="btnCancelarRequerimiento">Cancelar</button>
                    </div>
                </form>
            </div>

            <div class="table-container">
                <div class="table-header">
                    <span class="table-header-title">Lista de Requerimientos</span>
                    <div class="table-actions">
                        <input type="text" class="search-box" placeholder="üîç Buscar requerimiento..." onkeyup="buscarEnTabla(this, 'tablaRequerimientos')">
                        <button class="btn-refresh" onclick="cargarRequerimientos()">üîÑ Actualizar</button>
                    </div>
                </div>
                <div class="table-wrapper">
                    <table id="tablaRequerimientos">
                        <thead>
                        <tr>
                            <th>ID</th>
                            <th>Proyecto</th>
                            <th>Sprint</th>
                            <th>Descripci√≥n</th>
                            <th>Tipo</th>
                            <th>Prioridad</th>
                            <th>Horas</th>
                            <th>Acciones</th>
                        </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- COLABORADORES -->
    <div id="colaboradores" class="section">
        <div class="content-wrapper">
            <div class="form-container">
                <h2>üìù Datos del Colaborador</h2>
                <div id="mensaje-colaborador"></div>
                <form id="formColaborador">
                    <input type="hidden" id="idColaboradorEdit">
                    <div class="form-group">
                        <label>Proyecto</label>
                        <select id="proyectoColaborador" required></select>
                    </div>
                    <div class="form-group">
                        <label>Sprint (opcional)</label>
                        <select id="sprintColaborador">
                            <option value="">Sin asignar</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Nombre</label>
                        <input type="text" id="nombreColaborador" required>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="emailColaborador" required>
                    </div>
                    <div class="form-group">
                        <label>Rol</label>
                        <select id="rolColaborador">
                            <option value="Desarrollador Frontend">Desarrollador Frontend</option>
                            <option value="Desarrollador Backend">Desarrollador Backend</option>
                            <option value="Desarrollador Full Stack">Desarrollador Full Stack</option>
                            <option value="Dise√±ador UI/UX">Dise√±ador UI/UX</option>
                            <option value="Analista de Sistemas">Analista de Sistemas</option>
                            <option value="Arquitecto de Software">Arquitecto de Software</option>
                            <option value="Tester QA">Tester QA</option>
                            <option value="Project Manager">Project Manager</option>
                        </select>
                    </div>
                    <div class="button-group">
                        <button type="submit">Guardar</button>
                        <button type="button" class="btn-cancel" onclick="cancelarEdicion('Colaborador')" style="display:none;" id="btnCancelarColaborador">Cancelar</button>
                    </div>
                </form>
            </div>

            <div class="table-container">
                <div class="table-header">
                    <span class="table-header-title">Lista de Colaboradores</span>
                    <div class="table-actions">
                        <input type="text" class="search-box" placeholder="üîç Buscar colaborador..." onkeyup="buscarEnTabla(this, 'tablaColaboradores')">
                        <button class="btn-refresh" onclick="cargarColaboradores()">üîÑ Actualizar</button>
                    </div>
                </div>
                <div class="table-wrapper">
                    <table id="tablaColaboradores">
                        <thead>
                        <tr>
                            <th>ID</th>
                            <th>Proyecto</th>
                            <th>Sprint</th>
                            <th>Nombre</th>
                            <th>Email</th>
                            <th>Rol</th>
                            <th>Acciones</th>
                        </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const API = 'http://localhost:8080';

    // Funci√≥n para mostrar tabs
    function showTab(tabName) {
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.getElementById(tabName).classList.add('active');
        event.target.classList.add('active');

        if (tabName === 'proyectos') cargarClientesSelect();
        if (tabName === 'presupuestos') cargarProyectosSelect('proyectoPresupuesto');
        if (tabName === 'recursos') cargarProyectosSelect('proyectoRecurso');
        if (tabName === 'sprints') cargarProyectosSelect('proyectoSprint');
        if (tabName === 'requerimientos') {
            cargarProyectosSelect('proyectoRequerimiento');
            cargarSprintsSelect('sprintRequerimiento');
        }
        if (tabName === 'colaboradores') {
            cargarProyectosSelect('proyectoColaborador');
            cargarSprintsSelect('sprintColaborador');
        }
    }

    // Funci√≥n para mostrar mensajes
    function msg(tipo, mensaje, contenedor) {
        const div = document.getElementById(contenedor);
        div.innerHTML = `<div class="alert alert-${tipo}">${mensaje}</div>`;
        setTimeout(() => div.innerHTML = '', 3000);
    }

    // Funci√≥n para buscar en tablas
    function buscarEnTabla(input, tablaId) {
        const filtro = input.value.toLowerCase();
        const tabla = document.getElementById(tablaId);
        const filas = tabla.getElementsByTagName('tbody')[0].getElementsByTagName('tr');

        for (let i = 0; i < filas.length; i++) {
            const fila = filas[i];
            const texto = fila.textContent || fila.innerText;

            if (texto.toLowerCase().indexOf(filtro) > -1) {
                fila.style.display = '';
            } else {
                fila.style.display = 'none';
            }
        }
    }

    // Funci√≥n para cancelar edici√≥n
    function cancelarEdicion(entidad) {
        document.getElementById('form' + entidad).reset();
        document.getElementById('id' + entidad + 'Edit').value = '';
        document.getElementById('btnCancelar' + entidad).style.display = 'none';
        document.getElementById('btnGuardar' + entidad).textContent = 'Guardar';
    }

    // ============ CLIENTES ============
    document.getElementById('formCliente').addEventListener('submit', async (e) => {
        e.preventDefault();
        const idEdit = document.getElementById('idClienteEdit').value;
        const cliente = {
            empresaCliente: document.getElementById('empresaCliente').value,
            rfcCliente: document.getElementById('rfcCliente').value,
            emailCliente: document.getElementById('emailCliente').value,
            telefonoCliente: document.getElementById('telefonoCliente').value
        };

        try {
            const url = idEdit ? `${API}/cliente/${idEdit}` : `${API}/cliente`;
            const method = idEdit ? 'PUT' : 'POST';
            const response = await fetch(url, {
                method: method,
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(cliente)
            });

            if (response.ok) {
                msg('success', `‚úÖ Cliente ${idEdit ? 'actualizado' : 'guardado'}`, 'mensaje-cliente');
                e.target.reset();
                document.getElementById('idClienteEdit').value = '';
                document.getElementById('btnCancelarCliente').style.display = 'none';
                document.getElementById('btnGuardarCliente').textContent = 'Guardar';
                cargarClientes();
            }
        } catch (error) {
            msg('error', '‚ùå Error al guardar', 'mensaje-cliente');
        }
    });

    async function cargarClientes() {
        try {
            const response = await fetch(`${API}/cliente`);
            const clientes = await response.json();
            const tbody = document.querySelector('#tablaClientes tbody');
            tbody.innerHTML = clientes.map(c => `
                    <tr>
                        <td>${c.idCliente}</td>
                        <td>${c.empresaCliente}</td>
                        <td>${c.rfcCliente}</td>
                        <td>${c.emailCliente}</td>
                        <td>${c.telefonoCliente}</td>
                        <td>
                            <button class="btn-edit" onclick="editarCliente(${c.idCliente})">‚úèÔ∏è Editar</button>
                        </td>
                    </tr>
                `).join('');
        } catch (e) {
            console.error(e);
        }
    }

    async function editarCliente(id) {
        try {
            const response = await fetch(`${API}/cliente/${id}`);
            const cliente = await response.json();
            document.getElementById('idClienteEdit').value = cliente.idCliente;
            document.getElementById('empresaCliente').value = cliente.empresaCliente;
            document.getElementById('rfcCliente').value = cliente.rfcCliente;
            document.getElementById('emailCliente').value = cliente.emailCliente;
            document.getElementById('telefonoCliente').value = cliente.telefonoCliente;
            document.getElementById('btnCancelarCliente').style.display = 'inline-block';
            document.getElementById('btnGuardarCliente').textContent = 'Actualizar';
            document.querySelector('.form-container').scrollIntoView({ behavior: 'smooth' });
        } catch (e) {
            msg('error', '‚ùå Error al cargar datos', 'mensaje-cliente');
        }
    }

    async function cargarClientesSelect() {
        try {
            const response = await fetch(`${API}/cliente`);
            const clientes = await response.json();
            document.getElementById('clienteProyecto').innerHTML =
                '<option value="">Seleccione</option>' +
                clientes.map(c => `<option value="${c.idCliente}">${c.empresaCliente}</option>`).join('');
        } catch (e) {}
    }

    // ============ PROYECTOS ============
    document.getElementById('formProyecto').addEventListener('submit', async (e) => {
        e.preventDefault();
        const idEdit = document.getElementById('idProyectoEdit').value;
        const proyecto = {
            nombreProyecto: document.getElementById('nombreProyecto').value,
            descripcionProyecto: document.getElementById('descripcionProyecto').value,
            complejidadProyecto: document.getElementById('complejidadProyecto').value,
            fechaInicioProyecto: document.getElementById('fechaInicioProyecto').value,
            fechaFinProyecto: document.getElementById('fechaFinProyecto').value,
            estadoProyecto: document.getElementById('estadoProyecto').value,
            cliente: { idCliente: parseInt(document.getElementById('clienteProyecto').value) }
        };

        try {
            const url = idEdit ? `${API}/proyecto/${idEdit}` : `${API}/proyecto`;
            const method = idEdit ? 'PUT' : 'POST';
            const response = await fetch(url, {
                method: method,
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(proyecto)
            });

            if (response.ok) {
                msg('success', `‚úÖ Proyecto ${idEdit ? 'actualizado' : 'guardado'}`, 'mensaje-proyecto');
                e.target.reset();
                document.getElementById('idProyectoEdit').value = '';
                document.getElementById('btnCancelarProyecto').style.display = 'none';
                cargarProyectos();
            }
        } catch (error) {
            msg('error', '‚ùå Error al guardar', 'mensaje-proyecto');
        }
    });

    async function cargarProyectos() {
        try {
            const response = await fetch(`${API}/proyecto`);
            const proyectos = await response.json();
            const tbody = document.querySelector('#tablaProyectos tbody');
            tbody.innerHTML = proyectos.map(p => `
                    <tr>
                        <td>${p.idProyecto}</td>
                        <td>${p.nombreProyecto}</td>
                        <td>${p.cliente?.empresaCliente || 'N/A'}</td>
                        <td><span class="badge badge-${p.complejidadProyecto.toLowerCase()}">${p.complejidadProyecto}</span></td>
                        <td><span class="badge badge-${p.estadoProyecto.toLowerCase().replace(' ', '')}">${p.estadoProyecto}</span></td>
                        <td>${p.fechaInicioProyecto || 'N/A'}</td>
                        <td>
                            <button class="btn-edit" onclick="editarProyecto(${p.idProyecto})">‚úèÔ∏è Editar</button>
                        </td>
                    </tr>
                `).join('');
        } catch (e) {}
    }

    async function editarProyecto(id) {
        try {
            const response = await fetch(`${API}/proyecto/${id}`);
            const proyecto = await response.json();
            document.getElementById('idProyectoEdit').value = proyecto.idProyecto;
            document.getElementById('nombreProyecto').value = proyecto.nombreProyecto;
            document.getElementById('descripcionProyecto').value = proyecto.descripcionProyecto || '';
            document.getElementById('complejidadProyecto').value = proyecto.complejidadProyecto;
            document.getElementById('fechaInicioProyecto').value = proyecto.fechaInicioProyecto || '';
            document.getElementById('fechaFinProyecto').value = proyecto.fechaFinProyecto || '';
            document.getElementById('estadoProyecto').value = proyecto.estadoProyecto;
            document.getElementById('clienteProyecto').value = proyecto.cliente?.idCliente || '';
            document.getElementById('btnCancelarProyecto').style.display = 'inline-block';
            document.querySelector('.form-container').scrollIntoView({ behavior: 'smooth' });
        } catch (e) {
            msg('error', '‚ùå Error al cargar datos', 'mensaje-proyecto');
        }
    }

    async function cargarProyectosSelect(selectId) {
        try {
            const response = await fetch(`${API}/proyecto`);
            const proyectos = await response.json();
            document.getElementById(selectId).innerHTML =
                '<option value="">Seleccione</option>' +
                proyectos.map(p => `<option value="${p.idProyecto}">${p.nombreProyecto}</option>`).join('');
        } catch (e) {}
    }

    // ============ PRESUPUESTOS ============
    document.getElementById('formPresupuesto').addEventListener('submit', async (e) => {
        e.preventDefault();
        const idEdit = document.getElementById('idPresupuestoEdit').value;
        const presupuesto = {
            totalPresupuesto: parseFloat(document.getElementById('totalPresupuesto').value),
            fechaElaboracion: document.getElementById('fechaElaboracion').value,
            estadoPresupuesto: document.getElementById('estadoPresupuesto').value,
            proyecto: { idProyecto: parseInt(document.getElementById('proyectoPresupuesto').value) }
        };

        try {
            const url = idEdit ? `${API}/presupuesto-proyecto/${idEdit}` : `${API}/presupuesto-proyecto`;
            const method = idEdit ? 'PUT' : 'POST';
            const response = await fetch(url, {
                method: method,
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(presupuesto)
            });

            if (response.ok) {
                msg('success', `‚úÖ Presupuesto ${idEdit ? 'actualizado' : 'guardado'}`, 'mensaje-presupuesto');
                e.target.reset();
                document.getElementById('idPresupuestoEdit').value = '';
                document.getElementById('btnCancelarPresupuesto').style.display = 'none';
                cargarPresupuestos();
            }
        } catch (error) {
            msg('error', '‚ùå Error al guardar', 'mensaje-presupuesto');
        }
    });

    async function cargarPresupuestos() {
        try {
            const response = await fetch(`${API}/presupuesto-proyecto`);
            const presupuestos = await response.json();
            const tbody = document.querySelector('#tablaPresupuestos tbody');
            tbody.innerHTML = presupuestos.map(p => `
                    <tr>
                        <td>${p.idPresupuesto}</td>
                        <td>${p.proyecto?.nombreProyecto || 'N/A'}</td>
                        <td>${p.totalPresupuesto?.toFixed(2) || '0.00'}</td>
                        <td>${p.fechaElaboracion || 'N/A'}</td>
                        <td>${p.estadoPresupuesto}</td>
                        <td>
                            <button class="btn-edit" onclick="editarPresupuesto(${p.idPresupuesto})">‚úèÔ∏è Editar</button>
                        </td>
                    </tr>
                `).join('');
        } catch (e) {}
    }

    async function editarPresupuesto(id) {
        try {
            const response = await fetch(`${API}/presupuesto-proyecto/${id}`);
            const presupuesto = await response.json();
            document.getElementById('idPresupuestoEdit').value = presupuesto.idPresupuesto;
            document.getElementById('totalPresupuesto').value = presupuesto.totalPresupuesto;
            document.getElementById('fechaElaboracion').value = presupuesto.fechaElaboracion;
            document.getElementById('estadoPresupuesto').value = presupuesto.estadoPresupuesto;
            document.getElementById('proyectoPresupuesto').value = presupuesto.proyecto?.idProyecto || '';
            document.getElementById('btnCancelarPresupuesto').style.display = 'inline-block';
            document.querySelector('.form-container').scrollIntoView({ behavior: 'smooth' });
        } catch (e) {
            msg('error', '‚ùå Error al cargar datos', 'mensaje-presupuesto');
        }
    }

    // ============ RECURSOS ============
    document.getElementById('formRecurso').addEventListener('submit', async (e) => {
        e.preventDefault();
        const idEdit = document.getElementById('idRecursoEdit').value;
        const recurso = {
            cantidadColaboradores: parseInt(document.getElementById('cantidadColaboradores').value),
            horasEstimadas: parseInt(document.getElementById('horasEstimadas').value),
            horasAdicionales: parseInt(document.getElementById('horasAdicionales').value),
            tarifaHora: parseFloat(document.getElementById('tarifaHora').value),
            proyecto: { idProyecto: parseInt(document.getElementById('proyectoRecurso').value) }
        };

        try {
            const url = idEdit ? `${API}/recurso/${idEdit}` : `${API}/recurso`;
            const method = idEdit ? 'PUT' : 'POST';
            const response = await fetch(url, {
                method: method,
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(recurso)
            });

            if (response.ok) {
                msg('success', `‚úÖ Recurso ${idEdit ? 'actualizado' : 'guardado'}`, 'mensaje-recurso');
                e.target.reset();
                document.getElementById('idRecursoEdit').value = '';
                document.getElementById('btnCancelarRecurso').style.display = 'none';
                cargarRecursos();
            }
        } catch (error) {
            msg('error', '‚ùå Error al guardar', 'mensaje-recurso');
        }
    });

    async function cargarRecursos() {
        try {
            const response = await fetch(`${API}/recurso`);
            const recursos = await response.json();
            const tbody = document.querySelector('#tablaRecursos tbody');
            tbody.innerHTML = recursos.map(r => {
                const costoTotal = (r.horasEstimadas + r.horasAdicionales) * r.tarifaHora;
                return `
                        <tr>
                            <td>${r.idRecurso}</td>
                            <td>${r.proyecto?.nombreProyecto || 'N/A'}</td>
                            <td>${r.cantidadColaboradores}</td>
                            <td>${r.horasEstimadas}</td>
                            <td>${r.horasAdicionales}</td>
                            <td>${r.tarifaHora?.toFixed(2)}</td>
                            <td><strong>${costoTotal.toFixed(2)}</strong></td>
                            <td>
                                <button class="btn-edit" onclick="editarRecurso(${r.idRecurso})">‚úèÔ∏è Editar</button>
                            </td>
                        </tr>
                    `;
            }).join('');
        } catch (e) {}
    }

    async function editarRecurso(id) {
        try {
            const response = await fetch(`${API}/recurso/${id}`);
            const recurso = await response.json();
            document.getElementById('idRecursoEdit').value = recurso.idRecurso;
            document.getElementById('cantidadColaboradores').value = recurso.cantidadColaboradores;
            document.getElementById('horasEstimadas').value = recurso.horasEstimadas;
            document.getElementById('horasAdicionales').value = recurso.horasAdicionales;
            document.getElementById('tarifaHora').value = recurso.tarifaHora;
            document.getElementById('proyectoRecurso').value = recurso.proyecto?.idProyecto || '';
            document.getElementById('btnCancelarRecurso').style.display = 'inline-block';
            document.querySelector('.form-container').scrollIntoView({ behavior: 'smooth' });
        } catch (e) {
            msg('error', '‚ùå Error al cargar datos', 'mensaje-recurso');
        }
    }

    // ============ SPRINTS ============
    document.getElementById('formSprint').addEventListener('submit', async (e) => {
        e.preventDefault();
        const idEdit = document.getElementById('idSprintEdit').value;
        const sprint = {
            nombreSprint: document.getElementById('nombreSprint').value,
            fechaInicioSprint: document.getElementById('fechaInicioSprint').value,
            fechaFinSprint: document.getElementById('fechaFinSprint').value,
            estadoSprint: document.getElementById('estadoSprint').value,
            proyecto: { idProyecto: parseInt(document.getElementById('proyectoSprint').value) }
        };

        try {
            const url = idEdit ? `${API}/sprint-proyecto/${idEdit}` : `${API}/sprint-proyecto`;
            const method = idEdit ? 'PUT' : 'POST';
            const response = await fetch(url, {
                method: method,
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(sprint)
            });

            if (response.ok) {
                msg('success', `‚úÖ Sprint ${idEdit ? 'actualizado' : 'guardado'}`, 'mensaje-sprint');
                e.target.reset();
                document.getElementById('idSprintEdit').value = '';
                document.getElementById('btnCancelarSprint').style.display = 'none';
                cargarSprints();
            }
        } catch (error) {
            msg('error', '‚ùå Error al guardar', 'mensaje-sprint');
        }
    });

    async function cargarSprints() {
        try {
            const response = await fetch(`${API}/sprint-proyecto`);
            const sprints = await response.json();
            const tbody = document.querySelector('#tablaSprints tbody');
            tbody.innerHTML = sprints.map(s => `
                    <tr>
                        <td>${s.idSprint}</td>
                        <td>${s.proyecto?.nombreProyecto || 'N/A'}</td>
                        <td>${s.nombreSprint}</td>
                        <td>${s.fechaInicioSprint || 'N/A'}</td>
                        <td>${s.fechaFinSprint || 'N/A'}</td>
                        <td><span class="badge badge-${s.estadoSprint.toLowerCase().replace(' ', '')}">${s.estadoSprint}</span></td>
                        <td>
                            <button class="btn-edit" onclick="editarSprint(${s.idSprint})">‚úèÔ∏è Editar</button>
                        </td>
                    </tr>
                `).join('');
        } catch (e) {}
    }

    async function editarSprint(id) {
        try {
            const response = await fetch(`${API}/sprint-proyecto/${id}`);
            const sprint = await response.json();
            document.getElementById('idSprintEdit').value = sprint.idSprint;
            document.getElementById('nombreSprint').value = sprint.nombreSprint;
            document.getElementById('fechaInicioSprint').value = sprint.fechaInicioSprint;
            document.getElementById('fechaFinSprint').value = sprint.fechaFinSprint;
            document.getElementById('estadoSprint').value = sprint.estadoSprint;
            document.getElementById('proyectoSprint').value = sprint.proyecto?.idProyecto || '';
            document.getElementById('btnCancelarSprint').style.display = 'inline-block';
            document.querySelector('.form-container').scrollIntoView({ behavior: 'smooth' });
        } catch (e) {
            msg('error', '‚ùå Error al cargar datos', 'mensaje-sprint');
        }
    }

    async function cargarSprintsSelect(selectId) {
        try {
            const response = await fetch(`${API}/sprint-proyecto`);
            const sprints = await response.json();
            document.getElementById(selectId).innerHTML =
                '<option value="">Sin asignar</option>' +
                sprints.map(s => `<option value="${s.idSprint}">${s.nombreSprint}</option>`).join('');
        } catch (e) {}
    }

    // ============ REQUERIMIENTOS ============
    document.getElementById('formRequerimiento').addEventListener('submit', async (e) => {
        e.preventDefault();
        const idEdit = document.getElementById('idRequerimientoEdit').value;
        const sprintId = document.getElementById('sprintRequerimiento').value;
        const requerimiento = {
            descripcionRequerimiento: document.getElementById('descripcionRequerimiento').value,
            tipoRequerimiento: document.getElementById('tipoRequerimiento').value,
            prioridadRequerimiento: document.getElementById('prioridadRequerimiento').value,
            horasEstimadas: parseInt(document.getElementById('horasEstimadasReq').value),
            proyecto: { idProyecto: parseInt(document.getElementById('proyectoRequerimiento').value) },
            sprint: sprintId ? { idSprint: parseInt(sprintId) } : null
        };

        try {
            const url = idEdit ? `${API}/requerimiento-proyecto/${idEdit}` : `${API}/requerimiento-proyecto`;
            const method = idEdit ? 'PUT' : 'POST';
            const response = await fetch(url, {
                method: method,
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(requerimiento)
            });

            if (response.ok) {
                msg('success', `‚úÖ Requerimiento ${idEdit ? 'actualizado' : 'guardado'}`, 'mensaje-requerimiento');
                e.target.reset();
                document.getElementById('idRequerimientoEdit').value = '';
                document.getElementById('btnCancelarRequerimiento').style.display = 'none';
                cargarRequerimientos();
            }
        } catch (error) {
            msg('error', '‚ùå Error al guardar', 'mensaje-requerimiento');
        }
    });

    async function cargarRequerimientos() {
        try {
            const response = await fetch(`${API}/requerimiento-proyecto`);
            const requerimientos = await response.json();
            const tbody = document.querySelector('#tablaRequerimientos tbody');
            tbody.innerHTML = requerimientos.map(r => `
                    <tr>
                        <td>${r.idRequerimiento}</td>
                        <td>${r.proyecto?.nombreProyecto || 'N/A'}</td>
                        <td>${r.sprint?.nombreSprint || 'Sin asignar'}</td>
                        <td>${r.descripcionRequerimiento}</td>
                        <td>${r.tipoRequerimiento}</td>
                        <td><span class="badge badge-${r.prioridadRequerimiento.toLowerCase()}">${r.prioridadRequerimiento}</span></td>
                        <td>${r.horasEstimadas}</td>
                        <td>
                            <button class="btn-edit" onclick="editarRequerimiento(${r.idRequerimiento})">‚úèÔ∏è Editar</button>
                        </td>
                    </tr>
                `).join('');
        } catch (e) {}
    }

    async function editarRequerimiento(id) {
        try {
            const response = await fetch(`${API}/requerimiento-proyecto/${id}`);
            const req = await response.json();
            document.getElementById('idRequerimientoEdit').value = req.idRequerimiento;
            document.getElementById('descripcionRequerimiento').value = req.descripcionRequerimiento;
            document.getElementById('tipoRequerimiento').value = req.tipoRequerimiento;
            document.getElementById('prioridadRequerimiento').value = req.prioridadRequerimiento;
            document.getElementById('horasEstimadasReq').value = req.horasEstimadas;
            document.getElementById('proyectoRequerimiento').value = req.proyecto?.idProyecto || '';
            document.getElementById('sprintRequerimiento').value = req.sprint?.idSprint || '';
            document.getElementById('btnCancelarRequerimiento').style.display = 'inline-block';
            document.querySelector('.form-container').scrollIntoView({ behavior: 'smooth' });
        } catch (e) {
            msg('error', '‚ùå Error al cargar datos', 'mensaje-requerimiento');
        }
    }

    // ============ COLABORADORES ============
    document.getElementById('formColaborador').addEventListener('submit', async (e) => {
        e.preventDefault();
        const idEdit = document.getElementById('idColaboradorEdit').value;
        const sprintId = document.getElementById('sprintColaborador').value;
        const colaborador = {
            nombreColaborador: document.getElementById('nombreColaborador').value,
            emailColaborador: document.getElementById('emailColaborador').value,
            rolColaborador: document.getElementById('rolColaborador').value,
            proyecto: { idProyecto: parseInt(document.getElementById('proyectoColaborador').value) },
            sprint: sprintId ? { idSprint: parseInt(sprintId) } : null
        };

        try {
            const url = idEdit ? `${API}/colaborador/${idEdit}` : `${API}/colaborador`;
            const method = idEdit ? 'PUT' : 'POST';
            const response = await fetch(url, {
                method: method,
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(colaborador)
            });

            if (response.ok) {
                msg('success', `‚úÖ Colaborador ${idEdit ? 'actualizado' : 'guardado'}`, 'mensaje-colaborador');
                e.target.reset();
                document.getElementById('idColaboradorEdit').value = '';
                document.getElementById('btnCancelarColaborador').style.display = 'none';
                cargarColaboradores();
            }
        } catch (error) {
            msg('error', '‚ùå Error al guardar', 'mensaje-colaborador');
        }
    });

    async function cargarColaboradores() {
        try {
            const response = await fetch(`${API}/colaborador`);
            const colaboradores = await response.json();
            const tbody = document.querySelector('#tablaColaboradores tbody');
            tbody.innerHTML = colaboradores.map(c => `
                    <tr>
                        <td>${c.idColaborador}</td>
                        <td>${c.proyecto?.nombreProyecto || 'N/A'}</td>
                        <td>${c.sprint?.nombreSprint || 'Sin asignar'}</td>
                        <td>${c.nombreColaborador}</td>
                        <td>${c.emailColaborador}</td>
                        <td>${c.rolColaborador}</td>
                        <td>
                            <button class="btn-edit" onclick="editarColaborador(${c.idColaborador})">‚úèÔ∏è Editar</button>
                        </td>
                    </tr>
                `).join('');
        } catch (e) {}
    }

    async function editarColaborador(id) {
        try {
            const response = await fetch(`${API}/colaborador/${id}`);
            const col = await response.json();
            document.getElementById('idColaboradorEdit').value = col.idColaborador;
            document.getElementById('nombreColaborador').value = col.nombreColaborador;
            document.getElementById('emailColaborador').value = col.emailColaborador;
            document.getElementById('rolColaborador').value = col.rolColaborador;
            document.getElementById('proyectoColaborador').value = col.proyecto?.idProyecto || '';
            document.getElementById('sprintColaborador').value = col.sprint?.idSprint || '';
            document.getElementById('btnCancelarColaborador').style.display = 'inline-block';
            document.querySelector('.form-container').scrollIntoView({ behavior: 'smooth' });
        } catch (e) {
            msg('error', '‚ùå Error al cargar datos', 'mensaje-colaborador');
        }
    }

    // Cargar datos iniciales
    cargarClientes();
</script>
</body>
</html>